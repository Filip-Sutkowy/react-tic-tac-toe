(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{17:function(e,t,n){e.exports={Settings:"Settings_Settings__1b2MG",item:"Settings_item__2yuOg",input:"Settings_input__18QYv",inputButton:"Settings_inputButton__QWsZg"}},22:function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis"}},23:function(e,t,n){e.exports={Field:"Field_Field__1WVIo",empty:"Field_empty__1pcdI",x:"Field_x__1nH2I",o:"Field_o__3EzyV"}},24:function(e,t,n){e.exports={GameControls:"GameControls_GameControls__2jtoM",item:"GameControls_item__2gsv1",Button:"GameControls_Button__3eCOr"}},32:function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc",active:"NavigationItem_active__2v2td"}},35:function(e,t,n){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq",Secondary:"Button_Secondary__Gc1z2"}},36:function(e,t,n){e.exports={Scores:"Scores_Scores__14q5_",Board:"Scores_Board__WVziS"}},37:function(e,t,n){e.exports={Board:"Board_Board__1B6Cq",thumbnail:"Board_thumbnail__3M2XZ"}},38:function(e,t,n){e.exports={Home:"Home_Home__2nb7Z",PlayLink:"Home_PlayLink__20bok"}},52:function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX"}},53:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__ApScI"}},54:function(e,t,n){e.exports={Main:"Layout_Main__Vm9LA"}},55:function(e,t,n){e.exports={LdsDefault:"Spinner_LdsDefault__1s_4Z"}},56:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},57:function(e,t,n){e.exports={Modal:"Modal_Modal__1-5dN"}},59:function(e,t,n){e.exports=n.p+"static/media/x.3c1399b2.png"},60:function(e,t,n){e.exports=n.p+"static/media/o.2bce2ff0.png"},63:function(e,t,n){e.exports=n(92)},72:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),i=n.n(o),c=n(15),l=n(18),s=n(16),u=n(50),m=(n(72),n(14)),p=n(7),d=n(8),f=n(10),b=n(9),h=n(11),_=n(19),S=n(28),E=n(32),v=n.n(E),y=function(e){return r.a.createElement("li",{className:v.a.NavigationItem},r.a.createElement(c.c,{to:e.link,exact:e.exact,activeClassName:v.a.active},e.children))},O=n(52),g=n.n(O),C=function(e){return r.a.createElement("ul",{className:g.a.NavigationItems},r.a.createElement(y,{link:"/",exact:!0},r.a.createElement(_.a,{icon:S.b})," Home"),r.a.createElement(y,{link:"/game"},r.a.createElement(_.a,{icon:S.a})," Game"),r.a.createElement(y,{link:"scores"},r.a.createElement(_.a,{icon:S.c})," Scores"))},j=n(53),k=n.n(j),w=function(e){return r.a.createElement("nav",{className:k.a.Toolbar},r.a.createElement(C,null))},B=n(54),P=n.n(B),T=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(w,null),r.a.createElement("main",{className:P.a.Main},this.props.children))}}]),t}(a.Component),x=n(55),z=n.n(x),N=function(){return r.a.createElement("div",{className:z.a.LdsDefault},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},I=(n(35),n(22),n(56)),F=n.n(I),H=function(e){return e.show?r.a.createElement("div",{className:F.a.Backdrop,onClick:e.clicked}):null},G=n(57),R=n.n(G),D=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||this.props.children!==e.children}},{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(H,{show:this.props.show,clicked:this.props.modalClosed}),r.a.createElement("div",{className:R.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(a.Component),L=n(36),M=n.n(L),A=n(58),W=n.n(A).a.create({baseURL:"https://react-tic-tac-toe-8a33a.firebaseio.com"}),U=function(e,t){return function(n){n({type:"POST_SCORE_START"}),W.post("/scores/"+e+".json",{time:t}).then((function(e){var t;n({type:"POST_SCORE_SUCCESS",scores:t}),n(V())})).catch((function(e){n({type:"POST_SCORE_FAIL"}),n(V())}))}},V=function(){return function(e){e({type:"FETCH_SCORES_START"}),W.get("/scores.json").then((function(t){var n={};Object.keys(t.data).map((function(e){var a=t.data[e],r=Object.keys(a).map((function(e){return a[e].time/1e3}));return n[e]=r,null})),e(function(e){return{type:"FETCH_SCORES_SUCCESS",scores:e}}(n))})).catch((function(t){e({type:"FETCH_SCORES_FAIL"})}))}},Z=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchScores()}},{key:"render",value:function(){var e=this,t=r.a.createElement(N,null);return this.props.loading||(t=Object.keys(this.props.scores).map((function(t){var n=e.props.scores[t].sort();return r.a.createElement("div",{key:t,className:M.a.Board},r.a.createElement("h4",null,"Board ",t),r.a.createElement("ol",null,n.map((function(e){return r.a.createElement("li",{key:t+e},Number(e).toFixed(2),"s")}))))}))),r.a.createElement("div",{className:M.a.Scores},r.a.createElement("h1",null,"Best Times:"),t)}}]),t}(r.a.Component),q=Object(l.b)((function(e){return{scores:e.scores.scores,loading:e.scores.loading}}),(function(e){return{fetchScores:function(){return e(V())},postScore:function(t,n){return e(U(t,n))}}}))(Z),X=n(27),J=n(62),K=n(17),Y=n.n(K),Q=function(e){return r.a.createElement("div",{className:Y.a.Settings},r.a.createElement("div",{className:Y.a.item},r.a.createElement("button",{className:Y.a.inputButton,onClick:function(){return e.onSizeCrement(-1)}},"-"),r.a.createElement("input",{className:Y.a.input,type:"number",min:"1",step:"1",value:e.boardSize,onChange:function(t){return e.onBoardSizeChange(t)}}),r.a.createElement("button",{className:Y.a.inputButton,onClick:function(){return e.onSizeCrement(1)}},"+")),r.a.createElement("button",{className:Y.a.item,onClick:e.onStartGame},"GO!"))},$=n(23),ee=n.n($),te=n(59),ne=n.n(te),ae=n(60),re=n.n(ae),oe=function(e){var t={width:100/e.size+"%",height:100/e.size+"%",borderColor:e.enabled||e.thumbnail?"white":"black"},n=[ee.a.Field],a=null,o="";return"x"===e.status?(n.push(ee.a.x),o=r.a.createElement("img",{src:ne.a,alt:"x"})):"o"===e.status?(n.push(ee.a.o),o=r.a.createElement("img",{src:re.a,alt:"o"})):e.enabled&&(n.push(ee.a.empty),a=e.onClick),r.a.createElement("div",{className:n.join(" "),style:t,onClick:a},o)},ie=n(37),ce=n.n(ie),le=function(e){var t=e.fields.map((function(t,n){return r.a.createElement(oe,{key:n,size:e.size,status:t,onClick:function(){return e.onFieldClick(n)},enabled:e.enabled,thumbnail:e.thumbnail})})),n=[ce.a.Board];e.thumbnail&&n.push(ce.a.thumbnail);var a=e.enabled||e.thumbnail?"black":"gray";return r.a.createElement("div",{style:{backgroundColor:a},className:n.join(" ")},t)},se=n(24),ue=n.n(se),me=function(e){return r.a.createElement("div",{className:ue.a.GameControls},r.a.createElement("div",{className:ue.a.item},"Player: ",e.player),r.a.createElement("button",{className:ue.a.item+" "+ue.a.Button,onClick:e.abortGame},"ABORT"))};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(X.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={boardSize:3,boardFields:[],isPlaying:!1,player:"x",showWinner:!1,winner:null,startTime:null,lastPlayTime:null},n.initState={},n.createBoard=function(e){for(var t=[],a=0;a<Math.pow(e,2);a++)t.push(null);n.setState({boardFields:t})},n.boardSizeChangeHandler=function(e){var t=parseInt(e.target.value);n.setState({boardSize:t}),n.createBoard(t)},n.boardSizeCrementHandler=function(e){var t=parseInt(parseInt(n.state.boardSize)+parseInt(e));t>=1&&(n.setState({boardSize:t}),n.createBoard(t))},n.fieldClickHandler=function(e){var t=Object(J.a)(n.state.boardFields);t[e]=n.state.player;var a="o";"o"===n.state.player&&(a="x");var r=!0,o=!1,i=null,c=Date.now()-n.state.startTime;t.join("").length===Math.pow(n.state.boardSize,2)&&(r=!1,o=!0,i=null),n.checkWinner(t,e)&&(r=!1,o=!0,i=n.state.player),n.setState({boardFields:t,player:a,isPlaying:r,showWinner:o,winner:i,lastPlayTime:c})},n.checkWinner=function(e,t){var a=n.state.boardSize,r=t%a,o=(t-r)/a,i=e[o*a],c=!1;if(null!==i)for(var l=1;l<a;l++){if(i!==e[o*a+l]){c=!1;break}c=!0}if(c)return!0;if(null!==(i=e[r]))for(var s=1;s<a;s++){if(i!==e[s*a+r]){c=!1;break}c=!0}if(c)return!0;if(null!==(i=e[0]))for(var u=1;u<a;u++){if(i!==e[u*a+u]){c=!1;break}c=!0}if(c)return!0;if(null!==(i=e[a-1]))for(var m=2;m<=a;m++){if(i!==e[m*(a-1)]){c=!1;break}c=!0}return!!c},n.startGameHandler=function(){n.state.boardSize>=1&&(n.createBoard(n.state.boardSize),n.setState({isPlaying:!0,startTime:Date.now()}))},n.abortGameHandler=function(){n.setState(de({},n.initState,{boardSize:n.state.boardSize})),n.createBoard(n.state.boardSize)},n.postScoreHandler=function(){var e=n.state.boardSize+"x"+n.state.boardSize;n.props.postScore(e,n.state.lastPlayTime),n.setState({showWinner:!1})},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.createBoard(3),this.initState=de({},this.state)}},{key:"render",value:function(){var e=this,t=r.a.createElement(Q,{boardSize:this.state.boardSize,onBoardSizeChange:function(t){return e.boardSizeChangeHandler(t)},onStartGame:this.startGameHandler,onSizeCrement:this.boardSizeCrementHandler});this.state.isPlaying&&(t=r.a.createElement(me,{player:this.state.player,abortGame:this.abortGameHandler}));var n=r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,this.state.winner?"Winner is: "+this.state.winner:"Tie!"),r.a.createElement("p",null,"Playtime: ",this.state.lastPlayTime/1e3,"s"),this.state.winner?r.a.createElement("button",{onClick:this.postScoreHandler},"Post your score!"):null);return this.props.loading&&(n=r.a.createElement(N,null)),r.a.createElement("div",null,t,r.a.createElement(le,{enabled:this.state.isPlaying,size:this.state.boardSize,fields:this.state.boardFields,onFieldClick:this.fieldClickHandler}),r.a.createElement(D,{show:this.state.showWinner||this.props.loading,modalClosed:function(){return e.setState({showWinner:!1})}},n))}}]),t}(r.a.Component),be=Object(l.b)((function(e){return{loading:e.scores.loading}}),(function(e){return{postScore:function(t,n){return e(U(t,n))}}}))(fe),he=n(61),_e=n(38),Se=n.n(_e),Ee=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Se.a.Home},r.a.createElement(le,{enabled:!1,size:3,fields:[null,null,"x","o","x",null,"x",null,"o"],thumbnail:!0}),r.a.createElement("p",null,"Just Another Tic Tac Toe Game"),r.a.createElement(c.b,{className:Se.a.PlayLink,to:"/game"},"Let's Play!"),r.a.createElement("a",{href:"https://github.com/Filip-Sutkowy/react-tic-tac-toe",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(_.a,{icon:he.a})," Github"))}}]),t}(r.a.Component);var ve=function(){return r.a.createElement("div",null,r.a.createElement(T,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:Ee}),r.a.createElement(m.a,{path:"/game",component:be}),r.a.createElement(m.a,{path:"/scores",component:q}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Oe=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(n,!0).forEach((function(t){Object(X.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},ge={scores:{},loading:!1},Ce=function(e,t){return Oe(e,{loading:!0})},je=function(e,t){return Oe(e,{loading:!1,scores:t.scores})},ke=function(e,t){return Oe(e,{loading:!1})},we=function(e,t){return Oe(e,{loading:!0})},Be=function(e,t){return Oe(e,{loading:!1})},Pe=function(e,t){return Oe(e,{loading:!1})},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SCORES_START":return Ce(e);case"FETCH_SCORES_SUCCESS":return je(e,t);case"FETCH_SCORES_FAIL":return ke(e);case"POST_SCORE_START":return we(e);case"POST_SCORE_SUCCESS":return Be(e);case"POST_SCORE_FAIL":return Pe(e);default:return e}},xe=s.d,ze=Object(s.c)({scores:Te}),Ne=Object(s.e)(ze,xe(Object(s.a)(u.a))),Ie=r.a.createElement(l.a,{store:Ne},r.a.createElement(c.a,{basename:"/react-tic-tac-toe/"},r.a.createElement(ve,null)));i.a.render(Ie,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.327ab9d3.chunk.js.map